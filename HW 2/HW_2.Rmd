---
title: "HW 2"
author: "Austin Pesina"
date: "2/10/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=F)
```

## Problem 2.

**Carefully explain the differences between the KNN classifier and KNN regression methods.**  
Given a value for K and a prediction point x~0~, KNN regression first identifies the K training observations closest to x~0~. It estimates f(x~0~) by averaging all of the training responses closes to x~0~. This output is typically a continuous, numerical value.  

The KNN classifier first identifies the K points in the training data closest to x~0~. This output will be given a label for a categorical value.  

## Problem 9.
This question involves the use of multiple linear regression on the [Auto](https://rdrr.io/cran/ISLR/man/Auto.html) data set.  

```{r attachdata}
library (ISLR)
attach (Auto)
```
**(a) Produce a scatterplot matrix which includes all of the variables in the data set.**
``` {r 9-a}
pairs(Auto)
```

**(b) Compute the matrix of correlations between the variables using the function `cor()`. You will need to exclude the `name` variable, which is qualitative.**  

``` {r 9-b}
names (Auto)

cor(Auto[1:8])
```

**(c) Use the `lm()` function to perform a multiple linear regression with `mpg` as the response and all other variables except `name` as the predictors. Use the `summary()` function to print the results. Comment on the output. For instance  **
**i. Is there a relationship between the predictors and the response?**  
```{r 9_c_i}
fit9_c <-lm(mpg ~ . - name, data = Auto)
summary(fit9_c)
```  
**ii. Which predictors appear to have a statistically significant relationship to the response?**  
**iii. What does the coefficient for the `year` variable suggest?**  

**(d) Use the `plot()` function to produce diagnostic plots of the linear regression fit. Comment on any problems you see with the fit. Do the residual plot suggest any unusually large outliers? Does the leverage plot identify any observations with unusually high leverage?**  

**(e) Use the * and : symbols to fit linear regression models with interaction effects. Do any interactions appear to be statistically significant?**  

**(f) Try a few different transformations of the variables, such as log(x), \[\sqrt{x}\], \[x^{2}\]. Comment on your findings.  **


## Problem 10.
This question should be answered using the [Carseats](https://rdrr.io/cran/ISLR/man/Carseats.html) data set.

```{r getdata}
library(ISLR)
attach(Carseats)
```
**(a) Fit a multiple regression model to predict Sales using Price,Urban,and US.**  
```{r}
fit<-lm(Sales~Price+Urban+US)
summary(fit)
```

**(b) Provide an interpretation of each coefficient in the model. Becareful—some of the variables in the model are qualitative!**  
From the table above, `Price` and `US` are significant predictors of `Sales,` for every \$1 increase in my price, sales decrease by \$54. Sales inside the US are \$1,200 higher than sales outside of the US. Urban has no effect on Sales.

**(c) Write out the model in equation form, being careful to handlethe qualitative variables properly.**  $Sales=13.043469  - 0.054459Price -  0.021916Urban_{Yes} +  1.200573US_{YES}     $

**(d) For which of the predictors can you reject the null hypothesis $H0:β_{j}=0$?**  
`Price` and `US`

**(e) On the basis of your response to the previous question, fit a smaller model that only uses the predictors for which there isevidence of association with the outcome.**  
```{r}
fit<-lm(Sales~Price+Urban+US)
summary(fit)
```

**(f) How well do the models in (a) and (e) fit the data?**  
Models do not fit well. Each model explains around 23% of the variance in Sales.

**(g) Using the model from (e), obtain 95 % confidence intervals for the coefficient(s).**  
```{r}
confint(fit)
```
**(h) Is there evidence of outliers or high leverage observations in the model from (e)?**  


## Problem 12
This problem involves simple linear regression without an intercept.  

**(a) Recall that the coefficient estimate \hat{β} for the linear regression of Y onto X without an intercept is give by (3.38). Under what circumstance is the coefficient estimate for the regression of X onto Y the same as the  estimate for the regression of Y onto X. **  

**(b) Generate an example in `R` with n = 100 observations in which the coefficient estimate for the regression of X onto Y is different from the coefficient estimate for the regression of Y onto X.**  

**(c) Generate an example in `R` with n = 100 observations in which the coefficient estimate for the regression of X onto Y is the same as the coefficient estimate for the regression of Y onto X.**  